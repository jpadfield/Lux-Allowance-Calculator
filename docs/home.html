<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="The Lux Allowance - Calculator is an interactive system to assess the cumulative light exposure experienced by works of art, for exhibitions and general display." />
		<meta name="keywords" content="The National Gallery, London, National Gallery London, Scientific, Research, Heritage, Culture, Light, Exposure, Exhibition, Preventive COnservation " />
    <meta name="author" content="Joseph Padfield| joseph.padfield@nationalgallery.org.uk |National Gallery | London UK | information@nationalgallery.org.uk |www.nationalgallery.org.uk" />
    <meta name="image" content="" />
    <link rel="icon" href="graphics/favicon.ico">
    <title>Lux Allowance - Calculator - home</title>
    
	<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.1/css/all.min.css" crossorigin="anonymous" rel="stylesheet" type="text/css">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.css" crossorigin="anonymous" rel="stylesheet" type="text/css">
	<link href="https://cdn.jsdelivr.net/npm/jquery.json-viewer@1.5.0/json-viewer/jquery.json-viewer.css" crossorigin="anonymous" rel="stylesheet" type="text/css">
	<link href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/github.css" crossorigin="anonymous" rel="stylesheet" type="text/css">
	<link href="css/main.css" rel="stylesheet" type="text/css">
	<link href="https://unpkg.com/bootstrap-datepicker@1.9.0/dist/css/bootstrap-datepicker.min.css" rel="stylesheet" type="text/css">
	<link href="css/luxAllCalc.css" rel="stylesheet" type="text/css">
    <style>
    
    </style>
    
  </head>

<body onload="onLoad();">
	<div id="wrap" class="container h-100">
		
		<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
<div class="container-fluid">
      <button 
				class="navbar-toggler navbar-toggler-right" 
				type="button" 
				data-bs-toggle="collapse" 
				data-bs-target="#navbarsExampleDefault" 
				aria-controls="navbarsExampleDefault" 
				aria-expanded="false" 
				aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>    
      <a class="navbar-brand"  href="./">
  		<img id="page-logo" class="logo" title="Logo" src="graphics/ng-logo-white-100x40.png" 
				style="" alt="The National Gallery"/>
		  </a>
			<div class="collapse navbar-collapse" id="navbarsExampleDefault"><ul class="navbar-nav">

<!-- Start Normal Item 1 -->
<li class="nav-item active"><a class="nav-link" style="white-space:nowrap;" href="home.html">Home<span class="sr-only">(current)</span></a>
</li>
<!-- End Normal Item 1 -->

<!-- Start Normal Item 2 -->
<li class="nav-item "><a class="nav-link" style="white-space:nowrap;" href="instructions.html">Instructions</a>
</li>
<!-- End Normal Item 2 -->

<!-- Start Normal Item 3 -->
<li class="nav-item "><a class="nav-link" style="white-space:nowrap;" href="about.html">About</a>
</li>
<!-- End Normal Item 3 -->
</ul><span class="navbar-text w-100">			<a href="https://github.com/jpadfield/Lux-Allowance-Calculator/" class="float-end">
				<img id="ex-logo1" class="logo" title="github" src="graphics/github%20logo%20white.png" 
				style="" alt="GitHub - Lux Allowance Calculator"/>
		  </a></span></div>
</div>
    </nav>
		
		<div class="row " style="padding-top:80px; padding-bottom:40px; min-height:100%;">				
			<div class="col-12 col-md-12">  
				<div class="h-100 d-flex flex-column"> 
					
					
<!-- Start SimpleBDGrid -->
<div class="p-2 bg-light border rounded-3 jumbotron">
      <div class="container-fluid py-2"><h3 style="margin-bottom:0px;">Lux Allowance - <b>Calculator</b></h3></div></div><div class="container-fluid "><div class="row h-100"><div class="col-12">							
								<div class="h-100 d-flex flex-column">
							
						</div></div><!--/span--></div></div><!--/row-->    <div class="container-fluid "><div class="row h-100"><div class="col-12 flex-grow-1">							
								<div class="h-100 d-flex flex-column">
									
<form>
  <div class="form-group mb-4"> <!-- Start Form -->
    <div class="container"> <!-- Start Container -->

      <div class="row"><div class="col-md-12"><h5>Dates</h5></div></div>
			
      <div class="row ">  <!-- Start Row -->	
	  <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group date datepicker">
            <span class="input-group-append" style="width:75px;" id="basic-addon-start" for="start">
      <span class="input-group-text d-block">
        Start
      </span>
    </span>							
	<input onchange="dateUpdate(this.id)" type="text" class="form-control " id="start" name="start"  aria-label="Start" aria-describedby="basic-addon-start" />
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-start-units">
        <i class="fa-regular fa-calendar"></i>
      </span>
    </span>	
      </div>
    </div>	
  </div>	
	  <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group date datepicker">
            <span class="input-group-append" style="width:75px;" id="basic-addon-end" for="end">
      <span class="input-group-text d-block">
        End
      </span>
    </span>							
	<input onchange="dateUpdate(this.id)" type="text" class="form-control " id="end" name="end"  aria-label="End" aria-describedby="basic-addon-end" />
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-end-units">
        <i class="fa-regular fa-calendar"></i>
      </span>
    </span>	
      </div>
    </div>	
  </div>			
      </div>

      <div class="row"><div class="col-md-12"><h5>Opening Hours</h5></div></div>
			
      <div class="row" style="margin-bottom: 0.5rem;">
          <div class="col-md-12 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-prof" for="prof">
      <span class="input-group-text d-block">
        Opening Profile
      </span>
    </span>							
	<select onchange="profUpdate(this.id)" class="form-select " id="prof" name="prof"  aria-label="Opening Profile" aria-describedby="basic-addon-prof" ></select>
	    <span class="input-group-append" style="width:30px;" >
      <span class="input-group-text d-block" id="basic-addon-prof-units">
        &nbsp;
      </span>
    </span>	
      </div>
    </div>	
  </div>
      </div>		
      
      <div  id="customGroup" style="display:none;padding-bottom:10px;">		
  <div class="row pb-1 d-md-block d-none" style="">  	
    <div class="row"> 
      <div class="col-md-4"></div>
      <div class="col-md-3 text-center">
        <u>Display Hours</u>
      </div>	    
      <div class="col-md-3 text-center">
        <u>Extra Operational Hours</u>
      </div>
      <div class="col-md-2">
      </div>
    </div> 
  </div>
  
  <div class="row form_field_outer" id="customDetails" style="">  	
    <div class="row form_field_outer_row"> 
      <div class="form-group col-md-1 col-0 order-1"></div>
      <div class="form-group col-md-3 col-6 order-2">
          <div class="col-md-12 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
        						
	<select onchange="(this.id)" class="form-select " id="day" name="day"  aria-label="" aria-describedby="basic-addon-day" disabled><option value="Default">Default</option><option value="Monday">Monday</option><option value="Tuesday">Tuesday</option><option value="Wednesday">Wednesday</option><option value="Thursday">Thursday</option><option value="Friday">Friday</option><option value="Saturday">Saturday</option><option value="Sunday">Sunday</option></select>
	    <span class="input-group-append" style="width:45px;" >
      <span class="input-group-text d-block" id="basic-addon-day-units">
        <i class="fa-solid fa-calendar-day"></i>
      </span>
    </span>	
      </div>
    </div>	
  </div>
      </div>    
      <div class="form-group col-md-3 col-6 order-md-3 order-4 border-bottom mb-2">
          <div class="col-md-12 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
        						
	<input onChange="customValidate(this.id)" placeholder="Open Hrs ..." type="text" class="form-control openhrs" id="openhours" name="openhours"  aria-label="" aria-describedby="basic-addon-openhours" >
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-openhours-units">
        Hrs
      </span>
    </span>	
      </div>
    </div>	
  </div>
      </div>	    
      <div class="form-group col-md-3 col-6 order-md-4 order-5 border-bottom mb-2">
          <div class="col-md-12 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
        						
	<input onChange="customValidate(this.id)" placeholder="Extra Hrs ..." type="text" class="form-control extrahrs" id="extrahours" name="extrahours"  aria-label="" aria-describedby="basic-addon-extrahours" >
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-extrahours-units">
        Hrs
      </span>
    </span>	
      </div>
    </div>	
  </div>
      </div>
      <div class="form-group col-md-2 col-6 order-md-5 order-3 add_del_btn_outer text-end">
        <button type="button" class="btn_round add_node_btn_frm_field" title="Copy or clone this row">
          <i class="fas fa-copy"></i>
        </button>
        <button type="button" class="btn_round remove_node_btn_frm_field" disabled="">
          <i class="fas fa-trash-alt"></i>
        </button>
      </div>
      
      
    </div> 
  </div>   	
  <div class="row form_field_outer d-none">
    
    <div class="row form_field_outer_row"> 
      <div class="form-group col-md-12 text-end">
        <button type="button" id="updateCustom" class="btn btn-outline-secondary btn-sm" title="Update Custom Settings">
          Update Custom Settings
        </button>        
      </div>
    </div> 
    
  </div>
</div>      
        <div class="row" style="padding-left:15px;padding-right:15px;margin-top:0rem;">
    <div class="alert alert-info col-md-12" role="alert" id="profileDetails">
      ... selected profile details</div></div>
      <div class="row"><div class="col-md-12"><h5>Object Type</h5></div></div>
					
      <div class="row" style="margin-bottom: 0.5rem;">
          <div class="col-md-12 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-type" for="type">
      <span class="input-group-text d-block">
        Object Type
      </span>
    </span>							
	<select onchange="typeUpdate(this.id)" class="form-select " id="type" name="type"  aria-label="Object Type" aria-describedby="basic-addon-type" ></select>
	    <span class="input-group-append" style="width:30px;" >
      <span class="input-group-text d-block" id="basic-addon-type-units">
        &nbsp;
      </span>
    </span>	
      </div>
    </div>	
  </div>			
      </div>		

        <div class="row" style="padding-left:15px;padding-right:15px;margin-top:0rem;">
    <div class="alert alert-info col-md-12" role="alert" id="typeComment">
      ... brief description of this object type</div></div>
    
      <div class="row"><div class="col-md-12"><h5>Lux Set-points and Limits</h5></div></div>
      
      <div class="row" style="padding-bottom:0.5em">
	  <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-minLux" for="minLux">
      <span class="input-group-text d-block">
        Min Display Lux
      </span>
    </span>							
	<input onChange="luxMMUpdate(this.id)" placeholder="Min Lux Levels" type="text" class="form-control " id="minLux" name="minLux"  aria-label="Min Display Lux" aria-describedby="basic-addon-minLux" readonly>
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-minLux-units">
        Lux
      </span>
    </span>	
      </div>
    </div>	
  </div>
	  <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-maxLux" for="maxLux">
      <span class="input-group-text d-block">
        Max Lux
      </span>
    </span>							
	<input onChange="luxMMUpdate(this.id)" placeholder="Max Lux Levels" type="text" class="form-control " id="maxLux" name="maxLux"  aria-label="Max Lux" aria-describedby="basic-addon-maxLux" readonly>
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-maxLux-units">
        Lux
      </span>
    </span>	
      </div>
    </div>	
  </div>
          <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-annual" for="annual">
      <span class="input-group-text d-block">
        Annual Allowance
      </span>
    </span>							
	<input onChange="luxUpdate(this.id)" placeholder="" type="text" class="form-control " id="annual" name="annual"  aria-label="Annual Allowance" aria-describedby="basic-addon-annual" readonly>
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-annual-units">
        Lux Hrs
      </span>
    </span>	
      </div>
    </div>	
  </div>
          <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-luxlevel" for="luxlevel">
      <span class="input-group-text d-block">
        Display
      </span>
    </span>							
	<input onChange="luxUpdate(this.id)" placeholder="Lux Levels" type="text" class="form-control " id="luxlevel" name="luxlevel"  aria-label="Display" aria-describedby="basic-addon-luxlevel" >
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-luxlevel-units">
        Lux
      </span>
    </span>	
      </div>
    </div>	
  </div>
          <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-maintenanceLux" for="maintenanceLux">
      <span class="input-group-text d-block">
        Operational
      </span>
    </span>							
	<input onChange="luxUpdate(this.id)" placeholder="" type="text" class="form-control " id="maintenanceLux" name="maintenanceLux"  aria-label="Operational" aria-describedby="basic-addon-maintenanceLux" >
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-maintenanceLux-units">
        Lux
      </span>
    </span>	
      </div>
    </div>	
  </div>
          <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-overnightLux" for="overnightLux">
      <span class="input-group-text d-block">
        Room Closed
      </span>
    </span>							
	<input onChange="luxUpdate(this.id)" placeholder="" type="text" class="form-control " id="overnightLux" name="overnightLux"  aria-label="Room Closed" aria-describedby="basic-addon-overnightLux" >
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-overnightLux-units">
        Lux
      </span>
    </span>	
      </div>
    </div>	
  </div>
          <div class="col-md-6 col-sm-12 pb-2">
    <div style="border: 1px solid #e9ecef; border-top-right-radius: 30rem; border-bottom-right-radius: 30rem;">
      <div class="input-group ">
            <span class="input-group-append" style="width:150px;" id="basic-addon-period" for="period">
      <span class="input-group-text d-block">
        Display Period
      </span>
    </span>							
	<input onChange="otherUpdate(this.id)" placeholder="" type="text" class="form-control " id="period" name="period"  aria-label="Display Period" aria-describedby="basic-addon-period" >
	    <span class="input-group-append" style="width:70px;" >
      <span class="input-group-text d-block" id="basic-addon-period-units">
        %
      </span>
    </span>	
      </div>
    </div>	
  </div>
      </div>

      <div class="row"><div class="col-md-12"><h5>Calculation Summary</h5></div></div>
        <div class="row" style="padding-left:15px;padding-right:15px;margin-top:0rem;">
    <div class="alert alert-success col-md-12" role="alert" id="result">
      ... the calculated results</div></div>
					
    <div class="row" style="padding-left:15px;padding-right:15px;">
      <a class="btn btn-outline-secondary btn-sm" style="width:auto;" id="linkButton" href="#" role="button">Shareable Link</a>
    </div>
  
  </div> <!-- End Container -->
</div><!-- End Form -->
</form><div class="foonote"><ul></ul></div>
						</div></div><!--/span--></div></div><!--/row-->    
<!-- End SimpleBDGrid -->

			</div></div><!--/span-->
			
			
		</div><!--/row-->
			
		  <footer class="fixed-bottom bg-light">
		<div class="container-fluid">
			<div class="row">
				<div class="col-5" style="text-align:left;">&copy; The National Gallery 2023</div>
				<div class="col-2" style="text-align:center;"></div>
				<div class="col-5" style="text-align:right;"><a href='http://rightsstatements.org/vocab/InC-EDU/1.0/'><img height='16' alt='In Copyright - Educational Use Permitted' title='In Copyright - Educational Use Permitted' src='graphics/InC-EDU.dark-white-interior-blue-type.png'/></a>&nbsp;&nbsp;<a rel='license' href='https://creativecommons.org/licenses/by-nc/4.0/'><img alt='Creative Commons Licence' style='border-width:0' src='https://i.creativecommons.org/l/by-nc/4.0/88x31.png' /></a></div>
			</div>
		</div>        
  </footer>
    
	</div><!--/.container-->
    
	
	<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/tether@2.0.0/dist/js/tether.min.js" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery.json-viewer@1.5.0/json-viewer/jquery.json-viewer.js" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/bootstrap-datepicker@1.9.0/dist/js/bootstrap-datepicker.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm//pako@2.1.0/dist/pako.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/js-base64@3.7.3/base64.min.js"></script>
	<script src="js/luxAllCalc.js"></script>
	<script>
		
    types = {"No Light Sensitivity":{"annual":1000000,"comment":"Theoretically such objects do not have a defined maximum light level or annual cumulative light exposure.  However, within the National Gallery the lighting should be consistent with the display of other objects nearby \u2013 so the defined limits are based on perceptual or aesthetic considerations rather than conservation reasons. Used for most inorganic material including stone, iron, copper alloy, glass, ceramics, enamel.","luxlevel":250,"maxLux":1000,"minLux":35,"overnightLux":10,"maintenanceLux":150,"period":100},"Low Light Sensitivity":{"annual":600000,"comment":"Used for the majority of the National Gallery painting collection. Applicable for many organic materials - canvas and panel paintings, oil and or tempera, acrylic; also works on paper where the substrate is not exposed and the medium has low responsivity to light. Can also be appropriate for some undyed leather, horn, bone, unpainted ivory, or wax.","luxlevel":150,"maxLux":250,"minLux":35,"overnightLux":10,"maintenanceLux":50,"period":100,"selected":true},"Medium Light Sensitivity":{"annual":150000,"comment":"Used for the National Gallery\u2019s pastels, works on paper or vellum (where substrate exposed). Can also be appropriate for textiles, prints and drawings, manuscripts, gouache, watercolour, dyed leather, fur, feathers, distemper in frescos, wallpapers, oriental lacquer. Depending on the required opening hours objects in this category may need to rotated off display for a period of time to ensure the defined Annual Cumulative Light Dose is not exceeded.","luxlevel":50,"maxLux":50,"minLux":35,"overnightLux":5,"maintenanceLux":35,"period":100},"High Light Sensitivity":{"annual":15000,"comment":"Highly senstitive objects might be in pristine condition, and\/or contain very light sentitive dyes, lake and or other pigments; for paintings, textiles, ivory, bone, and waxes, but also for some photographs, coloured prints and drawings. Objects in this category will need to be rotated off display for significant periods of time to ensure the defined Annual Cumulative Light Dose is not exceeded.","luxlevel":50,"maxLux":50,"minLux":35,"overnightLux":5,"maintenanceLux":35,"period":5},"Special Light Sensitivity":{"annual":50000,"comment":"Bespoke or custom lighting restrictions based on the particular material or display requirements for specific objects.  Target light levels, permissible variations, cumulative annual light exposure limits and required periods of rotation into dark storage may be required and are defined on a case-by-case basis. The automatic values given is this tool are only intended as a starting point and will need to be edited as required.","luxlevel":80,"maxLux":250,"minLux":35,"overnightLux":5,"maintenanceLux":35,"period":15}}
    profiles = {"NG Standard":{"selected":true,"default":{"openingHours":8,"maintenance":2},"friday":{"openingHours":11,"maintenance":2}},"NG Exception (1)":{"default":{"openingHours":8,"maintenance":1},"friday":{"openingHours":11,"maintenance":1}},"Custom":{"default":{"openingHours":8,"maintenance":1},"friday":{"openingHours":11,"maintenance":1},"saturday":{"openingHours":11,"maintenance":1}}}
    
		
		function onLoad() {
			

  $(function () { // INITIALIZE DATEPICKER PLUGIN
    $('.datepicker').datepicker({
      clearBtn: true,
      format: "yyyy-mm-dd"});});

  $(function () {
    $('[data-toggle="tooltip"]').tooltip()})

  buildDropdowns ()
  
  $(function () {
		use = types[vars["type"]]
		prof = profiles[vars["prof"]];
		populateInputs()});
  $(function() {
  // ------------------------------------------------------- //
  // Multi Level dropdowns
  // ------------------------------------------------------ //
  $("ul.dropdown-menu [data-toggle='dropdown']").on("click", function(event) {
    event.preventDefault();
    event.stopPropagation();

    $(this).siblings().toggleClass("show");


    if (!$(this).next().hasClass('show')) {
      $(this).parents('.dropdown-menu').first().find('.show').removeClass("show");
    }
    $(this).parents('li.nav-item.dropdown.show').on('hidden.bs.dropdown', function(e) {
      $('.dropdown-submenu .show').removeClass("show");
    });

  });
});
			}
	</script>
</body>

</html>